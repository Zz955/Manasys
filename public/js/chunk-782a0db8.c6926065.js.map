{"version":3,"sources":["webpack:///./src/pages/index/Shoplist.vue?c12d","webpack:///src/pages/index/Shoplist.vue","webpack:///./src/pages/index/Shoplist.vue?b73a","webpack:///./src/pages/index/Shoplist.vue","webpack:///./src/pages/index/Shoplist.vue?5e29","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","staticStyle","tableData","scopedSlots","_u","key","fn","props","_s","row","id","category","imgUrl","rating","goodsDesc","name","price","ctime","sellCount","scope","on","$event","handleEdit","$index","dialogFormVisible","form","formLabelWidth","model","value","callback","$$v","$set","expression","handleAvatarSuccess","beforeAvatarUpload","imageUrl","_l","item","cateName","saveShopEdit","handleDelete","currentPage","total","handleSizeChange","handleCurrentChange","staticRenderFns","data","options","pageSize","gridData","region","date1","date2","delivery","type","resource","desc","methods","console","log","index","$confirm","confirmButtonText","cancelButtonText","getShoplist","res","val","URL","createObjectURL","file","raw","isJPG","$message","error","isLt2M","created","categories","forEach","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match"],"mappings":"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","file":"js/chunk-782a0db8.c6926065.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"商品列表\")])]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"商品ID\"}},[_c('span',[_vm._v(_vm._s(props.row.id))])]),_c('el-form-item',{attrs:{\"label\":\"所属分类\"}},[_c('span',[_vm._v(_vm._s(props.row.category))])]),_c('el-form-item',{attrs:{\"label\":\"商品图片\"}},[_c('span',[_vm._v(_vm._s(props.row.imgUrl))])]),_c('el-form-item',{attrs:{\"label\":\"商品评价\"}},[_c('span',[_vm._v(_vm._s(props.row.rating))])]),_c('el-form-item',{attrs:{\"label\":\"商品描述\"}},[_c('span',[_vm._v(_vm._s(props.row.goodsDesc))])]),_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('span',[_vm._v(_vm._s(props.row.name))])]),_c('el-form-item',{attrs:{\"label\":\"商品价格\"}},[_c('span',[_vm._v(_vm._s(props.row.price))])]),_c('el-form-item',{attrs:{\"label\":\"商品创建时间\"}},[_c('span',[_vm._v(_vm._s(props.row.ctime))])]),_c('el-form-item',{attrs:{\"label\":\"商品销量\"}},[_c('span',[_vm._v(_vm._s(props.row.sellCount))])])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"所属分类\",\"prop\":\"category\"}}),_c('el-table-column',{attrs:{\"label\":\"商品价格\",\"prop\":\"price\"}}),_c('el-table-column',{attrs:{\"label\":\"商品图片\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":'http://127.0.0.1:5000/upload/imgs/goods_img/'+scope.row.imgUrl,\"alt\":\"\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"商品描述\",\"prop\":\"goodsDesc\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-dialog',{attrs:{\"title\":\"收货地址\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品描述\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.goodsDesc),callback:function ($$v) {_vm.$set(_vm.form, \"goodsDesc\", $$v)},expression:\"form.goodsDesc\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品图片\",\"label-width\":_vm.formLabelWidth}},[_c('div',{staticClass:\"update\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"id\":\"box\",\"action\":\"http://127.0.0.1:5000/goods/goods_img_upload\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)]),_c('el-form-item',{attrs:{\"label\":\"商品分类\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.cateName,\"value\":item.cateName}})}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveShopEdit}},[_vm._v(\"确 定\")])],1)],1),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[5, 10, 15, 20],\"page-size\":5,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span>商品列表</span>\r\n      </div>\r\n      <!-- 商品列表 -->\r\n      <el-table :data=\"tableData\" style=\"width: 100%\">\r\n        <el-table-column type=\"expand\">\r\n          <template slot-scope=\"props\">\r\n            <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n              <el-form-item label=\"商品ID\">\r\n                <span>{{ props.row.id }}</span>\r\n              </el-form-item>\r\n              <el-form-item label=\"所属分类\">\r\n                <span>{{ props.row.category }}</span>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品图片\">\r\n                <span>{{ props.row.imgUrl }}</span>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品评价\">\r\n                <span>{{ props.row.rating }}</span>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品描述\">\r\n                <span>{{ props.row.goodsDesc }}</span>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品名称\">\r\n                <span>{{ props.row.name }}</span>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品价格\">\r\n                <span>{{ props.row.price }}</span>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品创建时间\">\r\n                <span>{{ props.row.ctime }}</span>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品销量\">\r\n                <span>{{ props.row.sellCount}}</span>\r\n              </el-form-item>\r\n            </el-form>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"商品名称\" prop=\"name\"></el-table-column>\r\n        <el-table-column label=\"所属分类\" prop=\"category\"></el-table-column>\r\n        <el-table-column label=\"商品价格\" prop=\"price\"></el-table-column>\r\n        <el-table-column label=\"商品图片\">\r\n          <template slot-scope=\"scope\">\r\n            <img\r\n              style=\"width:50px;height:50px\"\r\n              :src=\"'http://127.0.0.1:5000/upload/imgs/goods_img/'+scope.row.imgUrl\"\r\n              alt\r\n            />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"商品描述\" prop=\"goodsDesc\"></el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n            <!-- 编辑商品模态框 -->\r\n            <el-dialog title=\"收货地址\" :visible.sync=\"dialogFormVisible\">\r\n              <el-form :model=\"form\">\r\n                <el-form-item label=\"商品名称\" :label-width=\"formLabelWidth\">\r\n                  <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"商品价格\" :label-width=\"formLabelWidth\">\r\n                  <el-input v-model=\"form.price\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"商品描述\" :label-width=\"formLabelWidth\">\r\n                  <el-input v-model=\"form.goodsDesc\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"商品图片\" :label-width=\"formLabelWidth\">\r\n                  <div class=\"update\">\r\n                    <el-upload\r\n                      id=\"box\"\r\n                      class=\"avatar-uploader\"\r\n                      action=\"http://127.0.0.1:5000/goods/goods_img_upload\"\r\n                      :show-file-list=\"false\"\r\n                      :on-success=\"handleAvatarSuccess\"\r\n                      :before-upload=\"beforeAvatarUpload\"\r\n                    >\r\n                      <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\r\n                      <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                    </el-upload>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"商品分类\" :label-width=\"formLabelWidth\">\r\n                  <el-select v-model=\"value\" placeholder=\"请选择分类\">\r\n                    <el-option\r\n                      v-for=\"item in options\"\r\n                      :key=\"item.value\"\r\n                      :label=\"item.cateName\"\r\n                      :value=\"item.cateName\"\r\n                    ></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-form>\r\n              <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"saveShopEdit\">确 定</el-button>\r\n              </div>\r\n            </el-dialog>\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页器 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-sizes=\"[5, 10, 15, 20]\"\r\n        :page-size=\"5\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      ></el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入接口文件\r\nimport {\r\n  API_GET_SHOP_LIST,\r\n  API_DELETE_SHOP,\r\n  API_EDIT_SHOP,\r\n  API_GET_ALL_SHOP_CLASSIFY\r\n} from \"@/API/apis.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      options: [], // 商品分类\r\n      value: \"\",\r\n      tableData: [],\r\n      // 当前页\r\n      currentPage: 1,\r\n      // 默认每页显示5条\r\n      pageSize: 5,\r\n      // 修改商品图片地址\r\n      imageUrl: \"\",\r\n      // 上传的图片地址\r\n      imgUrl: \"\",\r\n      // 总条数\r\n      total:0,\r\n      // 修改商品\r\n      gridData: [\r\n      \r\n      ],\r\n      // 表格模态框隐藏/显示状态\r\n      dialogFormVisible: false,\r\n      form: {\r\n        goodsDesc: \"\", //修改的描述\r\n        price: \"\", //修改的价格\r\n        name: \"\", //修改的名称\r\n        region: \"\", //修改的分类\r\n        id: \"\", //修改商品的id\r\n        date1: \"\",\r\n        date2: \"\",\r\n        delivery: false,\r\n        type: [],\r\n        resource: \"\",\r\n        desc: \"\"\r\n      },\r\n      formLabelWidth: \"120px\"\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // 修改商品\r\n    handleEdit(index, row) {\r\n      console.log(index, row);\r\n      this.form.id = row.id; //修改商品需要的id\r\n      this.dialogFormVisible = true;\r\n    },\r\n    // 保存修改\r\n    saveShopEdit() {\r\n      this.dialogFormVisible = false;\r\n      // 获取修改信息的参数\r\n      // name名称 category分类 price价格\r\n      // imgurl 图片地址 goodsdesc描述 id商品id\r\n\r\n      // 解构\r\n      let { name, price, goodsDesc, id } = this.form;\r\n      // 发送请求name,category,price,imgUrl,goodsDesc,id\r\n      API_EDIT_SHOP(name, this.value, price, this.imgUrl, goodsDesc, id).then(\r\n        res => {\r\n          if (res) {\r\n            name = \"\";\r\n            this.value = \"\";\r\n            price = \"\";\r\n            this.imgUrl = \"\";\r\n            goodsDesc = \"\";\r\n            id = \"\";\r\n          }\r\n\r\n          this.getShoplist();\r\n        }\r\n      );\r\n    },\r\n    // 删除商品\r\n    handleDelete(index, row) {\r\n      console.log(index, row);\r\n      this.$confirm(\"此操作将删除该商品, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          // 发送请求,删除商品分类\r\n          API_DELETE_SHOP(row.id).then(res => {\r\n            //console.log(res);\r\n            if (res) {\r\n              this.getShoplist(); //调用获取商品列表函数\r\n              this.$message({\r\n                type: \"success\",\r\n                message: \"删除成功!\",\r\n                duration: 1500\r\n              });\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n            duration: 1500\r\n          });\r\n        });\r\n    },\r\n    // 封装获取商品列表方法\r\n    getShoplist() {\r\n      API_GET_SHOP_LIST(this.currentPage, this.pageSize).then(res => {\r\n        console.log(res);\r\n        this.total = res.data.total;\r\n        // 获取信息和，渲染到页面\r\n        this.tableData = res.data.data;\r\n      });\r\n    },\r\n    // 分页器方法\r\n    handleSizeChange(val) {\r\n      // 每页显示条数\r\n      this.pageSize = val;\r\n       this.getShoplist()\r\n    },\r\n    // 改变当前页\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val;\r\n       this.getShoplist()\r\n    },\r\n    // 修改商品图片\r\n    handleAvatarSuccess(res, file) {\r\n      this.imageUrl = URL.createObjectURL(file.raw);\r\n      console.log(res);\r\n      this.imgUrl = res.imgUrl;\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      const isJPG = file.type === \"image/jpeg\";\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\r\n      }\r\n      return isJPG && isLt2M;\r\n    }\r\n  },\r\n  created() {\r\n    // 在页面组件，data初始化完毕后，获取商品列表\r\n    this.getShoplist();\r\n\r\n    // 发送请求获取商品分类\r\n    API_GET_ALL_SHOP_CLASSIFY().then(res => {\r\n      //  结构获取商品分类\r\n      let { categories } = res.data;\r\n      // 遍历商品分类\r\n      categories.forEach((item, index) => {\r\n        // 添加value属性，值为索引\r\n        item.value = index;\r\n        // 添加到当前项中\r\n        this.options.push(item);\r\n      });\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.demo-table-expand {\r\n  font-size: 0;\r\n}\r\n.demo-table-expand label {\r\n  width: 90px;\r\n  color: #99a9bf;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\r\n}\r\n#box {\r\n  height: 100px;\r\n  width: 100px;\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n#box:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 100px;\r\n  height: 100px;\r\n  line-height: 100px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 100px;\r\n  height: 100px;\r\n  display: block;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Shoplist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Shoplist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Shoplist.vue?vue&type=template&id=345ca22c&scoped=true&\"\nimport script from \"./Shoplist.vue?vue&type=script&lang=js&\"\nexport * from \"./Shoplist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Shoplist.vue?vue&type=style&index=0&id=345ca22c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"345ca22c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Shoplist.vue?vue&type=style&index=0&id=345ca22c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Shoplist.vue?vue&type=style&index=0&id=345ca22c&lang=less&scoped=true&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}